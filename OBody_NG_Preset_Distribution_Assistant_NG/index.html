<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBody NG Preset Distribution Assistant NG</title>
    <meta name="description" content="SKSE plugin for automated OBody preset distribution in Skyrim Special Edition">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Code+Pro:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../assets/css/icons.css">
    <link rel="icon" type="image/x-icon" href="../images/log.ico">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
      mermaid.initialize({ startOnLoad: true, theme: 'forest' });
    </script>
    <style>
      details {
        background-color: var(--color-surface);
        border: 1px solid var(--color-card-border);
        border-radius: var(--radius-lg);
        margin-bottom: var(--space-16);
        overflow: hidden;
      }
      summary {
        padding: var(--space-16);
        cursor: pointer;
        font-weight: var(--font-weight-medium);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      summary::after {
        content: '‚ñº';
        transition: transform var(--duration-fast);
      }
      details[open] summary::after {
        transform: rotate(180deg);
      }
      .mermaid {
        padding: var(--space-16);
      }
    </style>
</head>
<body>
    <!-- Navigation v2 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-icon">‚öôÔ∏è</span>
                <span>OBody NG PDA</span>
                <a href="../index.html" class="nav-link" style="margin-left: 5px; text-decoration: none; color: inherit;" title="Back to Home">üè† Home</a>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#functionality" class="nav-link">Functionality</a></li>
                    <li><a href="#simulator" class="nav-link">Generator</a></li>
                    <li><a href="#examples" class="nav-link">INI Rules</a></li>
                    <li><a href="#installation" class="nav-link">Installation</a></li>
                    <li><a href="#architecture" class="nav-link">Architecture</a></li>
                    <li><a href="#diagrams" class="nav-link">Flowcharts</a></li>
                    <li><a href="#features" class="nav-link">Features</a></li>
                    <li><a href="#security" class="nav-link">Security</a></li>
                    <li><a href="#acknowledgments" class="nav-link">Acknowledgments</a></li>
                    <li><a href="#project-schedule-outline" class="nav-link">Projects</a></li>
                </ul>
            <button class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title">OBody NG Preset Distribution Assistant NG</h1>
                <p class="hero-subtitle">Addition to OBody NG for Automated Preset Distribution for UBE and CBBE, distribution manager and many more functions for Skyrim Special Edition</p>
                <p class="hero-description">
                    A lightweight SKSE DLL that processes simple rules written in INI, similar to SPID but called PDA, to automatically manage the OBody_presetDistributionConfig.json file without direct intervention, avoiding human errors and reading time.
                </p>
                <p class="hero-description" style="color: rgba(80, 200, 120, 0.8);">
                    It allows applying predefined presets for NPCs, races, factions, and complete plugins. If you decide to apply a different preset in-game using the 'O' menu, this will take precedence over the INI modification, so there are no configuration issues. üêà
                </p>
                <div class="hero-stats">
                    <div class="hero-stats">
                    <div class="stat stat-green">
                        <div class="stat-value">üîç</div>
                        <div class="stat-label">Automatic INI Search</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">‚ö°</div>
                        <div class="stat-label">Fast Processing</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">üõ°Ô∏è</div>
                        <div class="stat-label">Unicode Management Security</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">üéÆ</div>
                        <div class="stat-label">SE, AE, GOG and VR Compatibility</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">üìú</div>
                        <div class="stat-label">Simple Preset Management, keys and a system similar to SPID but for Presets</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">üíÉ</div>
                        <div class="stat-label">Apply predefined OBody Preset to NPC without touching JSON</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">üëÅÔ∏è</div>
                        <div class="stat-label">Automatic Blacklisted UBE and Application UBE presets in UBE NPCs</div>
                    </div>
                    <div class="stat stat-green">
                        <div class="stat-value">üëì</div>
                        <div class="stat-label">Automatic Preset Management List Analyzer, recorded in logs</div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Functionality Section -->
    <!-- Funcionalidades Principales -->
        <section id="functionality" class="section">
        <div class="container">
            <h2 class="section-title">Main Features</h2>
            <div class="functionality-grid">
                <div class="functionality-card">
                    <div class="card-icon">üîç</div>
                    <h3>Intelligent Search</h3>
                    <p>Automatically searches for files with pattern <code>OBodyNG_PDA_*.ini</code> in the data directory</p>
                </div>
                <div class="functionality-card">
                    <div class="card-icon">‚öôÔ∏è</div>
                    <h3>Rule Processing</h3>
                    <p>Processes rules in a SPID-like format: <code>Key = Element|PresetA,PresetB,...|Mode</code></p>
                </div>
                <div class="functionality-card">
                    <div class="card-icon">üéØ</div>
                    <h3>Advanced Modes</h3>
                    <p>Applies different modes: <code>x</code>, <code>1</code>, <code>0</code>, <code>-</code>, <code>x-</code>, <code>*</code>, <code>x*</code></p>
                </div>
                <div class="functionality-card">
                    <div class="card-icon">üë•</div>
                    <h3>NPC Distribution</h3>
                    <p>Applies presets to female NPCs of a specific element</p>
                </div>
                <div class="functionality-card">
                    <div class="card-icon">üíÉ</div>
                    <h3>Race Control</h3>
                    <p>Applies presets to all female NPCs of a race</p>
                </div>
                <div class="functionality-card">
                    <div class="card-icon">‚öîÔ∏è</div>
                    <h3>Faction Management</h3>
                    <p>Applies presets to female NPCs of a faction</p>
                </div>
                
                
            </div>

            <!-- Modes Section -->
            <div class="modes-section">
                <h3>Available Modes</h3>
                <div class="modes-grid">
                    <div class="mode-card">
                        <div class="mode-code">x</div>
                        <div class="mode-info">
                            <h4>Simple Application</h4>
                            <p>Always checks and applies the preset, you can use x or leave the mode space empty</p>
                        </div>
                    </div>
                    <div class="mode-card">
                        <div class="mode-code">1</div>
                        <div class="mode-info">
                            <h4>Once</h4>
                            <p>Applies preset once, then deactivates, updates INI to |0</p>
                        </div>
                    </div>
                    <div class="mode-card">
                        <div class="mode-code">0</div>
                        <div class="mode-info">
                            <h4>Disabled</h4>
                            <p>Skips rule, makes no changes</p>
                        </div>
                    </div>
                    <div class="mode-card">
                        <div class="mode-code">-</div>
                        <div class="mode-info">
                            <h4>Clean Preset</h4>
                            <p>Clean specific preset once, updates INI to |0</p>
                        </div>
                    </div>
                    <div class="mode-card">
                        <div class="mode-code">x-</div>
                        <div class="mode-info">
                            <h4>Clean Preset Plus</h4>
                            <p>Clean preset in every execution</p>
                        </div>
                    </div>
                    <div class="mode-card">
                        <div class="mode-code">*</div>
                        <div class="mode-info">
                            <h4>Clean Element</h4>
                            <p>Clean complete element entry, updates INI to |0</p>
                        </div>
                    </div>
                    <div class="mode-card">
                        <div class="mode-code">x*</div>
                        <div class="mode-info">
                            <h4>Clean Element Plus</h4>
                            <p>Clean element in every execution</p>
                        </div>
                    </div>
						<div class="mode-card">
							<div class="mode-code">5,%&</div>
							<div class="mode-info">
								<h4>Element Not Considered</h4>
								<p>Any unconsidered element is converted to 0</p>
							</div>
						</div>
						           </div>
						           
						           <!-- Mensaje informativo sobre los modos -->
						           <div class="modes-info">
						               <p class="modes-explanation">
						                   <strong>Important note:</strong> The mode that is in <span class="green-text">green</span> (X or leaving space empty) is the one that will be used by default and is the one that fulfills the function of distributing the preset.<br>
						                   The modes that are in <span class="red-text">red</span> color are for advanced use and can generate actions such as cleaning presets that you no longer want to use, or applying presets in the JSON only once. I created them for testing or for you to find a use for them, but they are not very used. I recommend just going for the X or the empty space, that's enough.
						               </p>
						           </div>
						       </div>
						   </div>
					</section>

        <!-- Generador Interactivo de Reglas INI -->
                <section id="simulator" class="section bg-celeste">
            <div class="container">
                <h2 class="section-title">Interactive ini PDA NG Rule Generator</h2>
                    <p class="simulator-description" style="color: rgba(80, 200, 120, 0.8);">
                        Rule generator in a simple way. It only requires knowing the name of what you are going to apply the preset to (whether NPC, faction, plugin, or race) and knowing whether it will apply one or more presets to this element. Remember that if you choose more than one preset for an element, it will be chosen randomly from the ones you write, limiting the variability between the presets you specify.
                    </p>
                    <p class="simulator-description" style="color: rgba(80, 200, 120, 0.8);">
                        If you don't know how to get the IDs or factions, you can use the codes I left on Nexus. They are used in SSEdit and generate a complete list with a lot of information about each NPC. With those, you can do whatever you like, such as SPIDs or these PDAs.
                    </p>
                <div class="simulator-container">
                    <div class="simulator-controls">
                        <h3>Rule Configuration</h3>
                        <form id="ruleForm">
                            <div class="form-group">
                                <label for="ruleType" class="form-label" style="color: var(--color-primary);">Rule Type</label>
                                <select id="ruleType" class="form-control">
                                    <option value="">Select type...</option>
                                    <option value="npcFormID">npcFormID</option>
                                    <option value="npc">npc</option>
                                    <option value="factionFemale">factionFemale</option>
                                    <option value="factionMale">factionMale</option>
                                    <option value="npcPluginFemale">npcPluginFemale</option>
                                    <option value="npcPluginMale">npcPluginMale</option>
                                    <option value="raceFemale">raceFemale</option>
                                    <option value="raceMale">raceMale</option>
                                    <option value="blacklisted">blacklisted</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="elementValue" class="form-label" style="color: #10B981;">Element Value</label>
                                <select id="elementValue" class="form-control" style="display: none;">
                                    <option value="">Select race...</option>
                                    <option value="NordRace">NordRace</option>
                                    <option value="ImperialRace">ImperialRace</option>
                                    <option value="BretonRace">BretonRace</option>
                                    <option value="RedguardRace">RedguardRace</option>
                                    <option value="DarkElfRace">DarkElfRace</option>
                                    <option value="HighElfRace">HighElfRace</option>
                                    <option value="WoodElfRace">WoodElfRace</option>
                                    <option value="OrcRace">OrcRace</option>
                                    <option value="KhajiitRace">KhajiitRace</option>
                                    <option value="ArgonianRace">ArgonianRace</option>
                                    <option value="ElderRace">ElderRace</option>
                                    <option value="NordRaceVampire">NordRaceVampire</option>
                                    <option value="ImperialRaceVampire">ImperialRaceVampire</option>
                                    <option value="BretonRaceVampire">BretonRaceVampire</option>
                                    <option value="RedguardRaceVampire">RedguardRaceVampire</option>
                                    <option value="DarkElfRaceVampire">DarkElfRaceVampire</option>
                                    <option value="HighElfRaceVampire">HighElfRaceVampire</option>
                                    <option value="WoodElfRaceVampire">WoodElfRaceVampire</option>
                                    <option value="OrcRaceVampire">OrcRaceVampire</option>
                                    <option value="KhajiitRaceVampire">KhajiitRaceVampire</option>
                                    <option value="ArgonianRaceVampire">ArgonianRaceVampire</option>
                                    <option value="ElderRaceVampire">ElderRaceVampire</option>
                                    <option value="00UBE_HighElfRace">00UBE_HighElfRace</option>
                                    <option value="00UBE_BretonRace">00UBE_BretonRace</option>
                                    <option value="00UBE_ImperialRace">00UBE_ImperialRace</option>
                                    <option value="00UBE_RedguardRace">00UBE_RedguardRace</option>
                                    <option value="00UBE_DarkElfRace">00UBE_DarkElfRace</option>
                                    <option value="00UBE_WoodElfRace">00UBE_WoodElfRace</option>
                                    <option value="00UBE_NordRace">00UBE_NordRace</option>
                                    <option value="00UBE_OrcRace">00UBE_OrcRace</option>
                                    <option value="00UBE_ElderRace">00UBE_ElderRace</option>
                                    <option value="00UBE_KhajiitRace">00UBE_KhajiitRace</option>
                                    <option value="00UBE_ArgonianRace">00UBE_ArgonianRace</option>
                                    <option value="00UBE_HighElfRaceVampire">00UBE_HighElfRaceVampire</option>
                                    <option value="00UBE_BretonRaceVampire">00UBE_BretonRaceVampire</option>
                                    <option value="00UBE_ImperialRaceVampire">00UBE_ImperialRaceVampire</option>
                                    <option value="00UBE_RedguardRaceVampire">00UBE_RedguardRaceVampire</option>
                                    <option value="00UBE_DarkElfRaceVampire">00UBE_DarkElfRaceVampire</option>
                                    <option value="00UBE_WoodElfRaceVampire">00UBE_WoodElfRaceVampire</option>
                                    <option value="00UBE_NordRaceVampire">00UBE_NordRaceVampire</option>
                                    <option value="00UBE_OrcRaceVampire">00UBE_OrcRaceVampire</option>
                                    <option value="00UBE_ElderRaceVampire">00UBE_ElderRaceVampire</option>
                                    <option value="00UBE_KhajiitRaceVampire">00UBE_KhajiitRaceVampire</option>
                                    <option value="00UBE_ArgonianRaceVampire">00UBE_ArgonianRaceVampire</option>
                                    <option value="custom">Custom races</option>
                                </select>
                                <input type="text" id="elementValueInput" class="form-control" placeholder="E.g.: Serana, GuardFaction, xx0001...">
                            </div>

                            <div class="form-group">
                                <label for="presets" class="form-label" style="color: #FBBF24;">Presets</label>
                                <input type="text" id="presets" class="form-control" placeholder="E.g.: PresetA,PresetB,PresetC">
                            </div>

                            <div class="form-group">
                                <label for="mode" class="form-label" style="color: var(--color-gray-300);">Mode</label>
                                <select id="mode" class="form-control">
                                    <option value="" selected style="color: var(--color-success);">Empty (simple application) (default)</option>
                                    <option value="x" style="color: var(--color-success);">x (simple application) (same as leaving empty)</option>
                                    <option value="1" style="color: var(--color-warning);">1 (once) (not necessary, advanced users)</option>
                                    <option value="0" style="color: var(--color-warning);">0 (disabled) (not necessary, advanced users)</option>
                                    <option value="-" style="color: var(--color-warning);">- (remove preset) (not necessary, advanced users)</option>
                                    <option value="x-" style="color: var(--color-warning);">x- (unlimited remove) (not necessary, advanced users)</option>
                                    <option value="*" style="color: var(--color-warning);">* (remove element) (not necessary, advanced users)</option>
                                    <option value="x*" style="color: var(--color-warning);">x* (unlimited element remove) (not necessary, advanced users)</option>
                                </select>
                            </div>

                            <button type="button" id="newRule" class="btn btn--primary btn--full-width">New Rule</button>
                        </form>
                    </div>

                    <div class="simulator-output">
                                            <div class="output-header">
                        <span class="editor-title">üìã Generated Rule</span>
                        <div class="btn-group">
                            <button id="cleanRuleBtn" class="copy-btn" style="background-color: var(--color-error);" title="Clear all rules">
                                üóëÔ∏è CLEAN
                            </button>
                            <button id="copyRuleBtn" class="copy-btn" title="Copy rules to clipboard">
                                üìã Copy
                            </button>
                        </div>
                    </div>
                        <pre id="generatedRule" class="ini-editor"></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advanced Options Section -->
        <section id="advanced-options" class="section bg-celeste">
            <div class="container">
                
                <details>
                    <summary class="advanced-summary">üîß Advanced Options</summary>
                    
                    <div class="advanced-content">
                        <div class="log-analyzer">
                            <!-- √Årea de resultados (arriba) -->
                            <div id="logResults" class="log-results" style="display: none;">
                                <div class="results-header">
                                    <h4>Extracted Presets</h4>
                                    <div class="results-stats" id="resultsStats"></div>
                                </div>
                                
                                <div class="presets-categories">
                                    <div class="category-section">
                                        <h5>üî• NORMAL PRESETS (CBBE/3BA/BHUNP/etc.) (<span id="normalCount">0</span> total)</h5>
                                        <div class="preset-list" id="normalPresets"></div>
                                    </div>
                                    
                                    <div class="category-section">
                                        <h5>üíé UBE PRESETS (<span id="ubeCount">0</span> total)</h5>
                                        <div class="preset-list" id="ubePresets"></div>
                                    </div>
                                    
                                    <div class="category-section">
                                        <h5>üí™ HIMBO PRESETS (<span id="himboCount">0</span> total)</h5>
                                        <div class="preset-list" id="himboPresets"></div>
                                    </div>
                                </div>
                                
                                <div class="preset-actions">
                                    <button type="button" id="copyAllBtn" class="btn btn--primary">Copy All Presets</button>
                                    <button type="button" id="copyNormalBtn" class="btn btn--secondary">Copy Normal</button>
                                    <button type="button" id="copyUbeBtn" class="btn btn--secondary">Copy UBE</button>
                                    <button type="button" id="copyHimboBtn" class="btn btn--secondary">Copy HIMBO</button>
                                </div>
                            </div>
                            
                            <!-- √Årea de arrastrar y soltar (abajo) -->
                            <h3>Log File Analyzer</h3>
                            <p class="log-description">
                                Drag and drop your "OBody_NG_Preset_Distribution_Assistant-NG_List-Helper.log" file here to extract all preset names and organize them by category.
                            </p>
                            
                            <div class="drop-zone" id="dropZone">
                                <div class="drop-zone-content">
                                    <span class="drop-zone-icon">üìÅ</span>
                                    <p class="drop-zone-text">Drag & Drop your log file here</p>
                                    <p class="drop-zone-hint">Only accepts: OBody_NG_Preset_Distribution_Assistant-NG_List-Helper.log</p>
                                    <input type="file" id="fileInput" accept=".log" style="display: none;">
                                    <button type="button" id="browseBtn" class="btn btn--secondary">Browse Files</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
        </section>

        <!-- Reglas de INI -->
        <section id="examples" class="section">
        <div class="container">
            <h2 class="section-title">INI Rules</h2>
            <div class="examples-container">
                <div class="example-editor">
                    <div class="editor-header">
                        <h3 class="editor-title">
                            <span>üìÑ</span>
                            OBodyNG_PDA_(MOD NAME).ini
                        </h3>
                        <button id="copyBtn" class="copy-btn">üìã Copy</button>
                    </div>
                    <textarea id="iniEditor" class="ini-editor" readonly>;OBody_NG_Preset_Distribution_Assistant_NG

;INI Rule Examples:

; npcFormID = xx0001|Preset,...|x , 1 , 0 , - , *            ; FormID | Preset, Presets,... | mode
; npc = EditorID|Preset,...|x , 1 , 0 , - , *                ; EditorID | Preset, Presets,... | mode
; factionFemale = Faction|Preset,...|x , 1 , 0 , - , *       ; Faction | Preset, Presets,... | mode
; factionMale = Faction|Preset,...|x , 1 , 0 , - , *         ; Faction | Preset, Presets,... | mode
; npcPluginFemale = Plugin.esp|Preset,...|x , 1 , 0 , - , *  ; Plugin.esp | Preset, Presets,... | mode
; npcPluginMale = Plugin.esp|Preset,...|x , 1 , 0 , - , *    ; Plugin.esp | Preset, Presets,... | mode
; raceFemale = Race|Preset,...|x , 1 , 0 , - , *             ; Race | Preset, Presets,... | mode
; raceMale = Race|Preset,...|x , 1 , 0 , - , *               ; Race | Preset, Presets,... | mode

;Modes:
; Nothing = Unlimited (Always checks and applies the preset; if it is already applied, it won‚Äôt make changes. You can use "x" or leave the mode empty).
; x = Unlimited (Same as "Nothing", applies the preset every time the game starts, but if already applied, it won‚Äôt make changes).
; 1 = Once (Applies the preset only once).
; 0 = Disabled (Does nothing).
; - = Remove preset (Removes the preset; checks the defined section first and removes it from the JSON without modifying anything else).
; * = Remove element (Removes the element written in the rule, e.g., removes a full plugin from the configuration; checks the defined section first and removes it from the JSON without modifying anything else).
; x- = Unlimited remove (Same as "-", but will do it every time the game starts; not recommended).
; x* = Unlimited element remove (Same as "*", but will do it every time the game starts; not recommended).
; Incoherent text = (Checks for any text that is not a valid mode and automatically replaces it with "0").

;Real examples:

;YurianaWench All Mod
npcPluginFemale = YurianaWench.esp|Wench Body 2.0 Naked Body SSE,!CCPoundcakeNaked2|

;Immersive Wenches All Mod
npcPluginFemale = Immersive Wenches.esp|Wench Body 2.0 Naked Body SSE,!CCPoundcakeNaked2|x

;More examples:

raceFemale = NordRace|Nordic Preset 1,Nordic Preset 2|1

factionFemale = GuardFaction|Guard Body Preset|x

npc = Lydia|Lydia Custom Preset|1

;Default available races:

;NordRace, ImperialRace, BretonRace, RedguardRace, DarkElfRace, HighElfRace, WoodElfRace, OrcRace, KhajiitRace, ArgonianRace, ElderRace
;Custom races from mods can also be used

;The blacklisted elements have not been touched yet in version 2.0, rules for them will be made

</textarea>
                </div>
                <div class="example-explanation">
                    <h3>Rule Description</h3>

                    <div class="rule-item">
                        <strong>npcFormID</strong>
                        <p>Applies presets based on the specific NPC FormID (e.g.: xx0001). Not recommended much as IDs usually change with updates.</p>
                    </div>

                    <div class="rule-item">
                        <strong>npc (recommended for NPC)</strong>
                        <p>Applies presets by NPC EditorID (e.g.: Serana, Lydia, Aela). The one I use the most, as it's difficult for an EditorID to change.</p>
                    </div>

                    <div class="rule-item">
                        <strong>factionFemale/factionMale</strong>
                        <p>Applies presets to NPCs of a specific faction by gender. Useful when an NPC joins a faction, the body changes accordingly.</p>
                    </div>

                    <div class="rule-item">
                        <strong>npcPluginFemale/npcPluginMale</strong>
                        <p>Applies presets to NPCs from a specific element (.esp) by gender. Recommended for giving presets to an entire mod and its NPCs from the plugin.</p>
                    </div>

                    <div class="rule-item">
                        <strong>raceFemale/raceMale</strong>
                        <p>Applies presets to NPCs of a specific race by gender. I use it a lot, it's easy to adjust for all of Skyrim.</p>
                    </div>

                    <div class="rule-item">
                        <strong>blacklisted</strong>
                        <p>This rule serves to apply presets, plugins, NPCs, races, clothing sets to the blacklist and prevent incorrect auto-applications by OBody.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Instalaci√≥n -->
        <section id="installation" class="section bg-celeste">
        <div class="container">
            <h2 class="section-title">Installation</h2>
            <div class="installation-content">
                <div class="requirements-section">
                    <h3>Requirements</h3>
                    <div class="requirements-list">
                        <div class="requirement-item">
                            <span class="req-icon">‚öôÔ∏è</span>
                            <div>
                                <strong>SKSE - Skyrim Script Extender</strong>
                                <p>Required for the plugin to function</p>
                            </div>
                        </div>
                        <div class="requirement-item">
                            <span class="req-icon">üë§</span>
                            <div>
                                <strong>OBody Next Generation</strong>
                                <p>The base mod to be configured</p>
                            </div>
                        </div>
                        <div class="requirement-item">
                            <span class="req-icon">üìö</span>
                            <div>
                                <strong>Address Library for SKSE Plugins</strong>
                                <p>Library required for modern SKSE plugins</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="installation-steps">
                    <h3>Installation Steps</h3>
                    <div class="steps-list">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Download Mod Plugin</h4>
                                <p>Get the latest version of the SKSE OBody NG PDA plugin from Nexus</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Install Mod Plugin</h4>
                                <p>Install in your mod list, whether Nexus or Vortex</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Done</h4>
                                <p>If it's ready, you can create your INI files or install mods that require PDA as a requirement</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="file-structure">
                    <h3>File Structure</h3>
                    <p>The structure is simple: you only need to place files with the OBodyNG_PDA_*.ini pattern in a zip or rar and publish it as a mod, then install it in your mod list. The plugin will detect them automatically and distribute the preset rules without additional configuration.</p>
                    <div class="file-tree">
 Mod Archive (ZIP/RAR)
 ‚îú‚îÄ‚îÄ OBodyNG_PDA_*.ini  (e.g., OBodyNG_PDA_MyMod.ini)
 ‚îî‚îÄ‚îÄ (Optional: other mod files)
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Arquitectura del Sistema -->
        <section id="architecture" class="section">
        <div class="container">
            <h2 class="section-title">System Architecture</h2>
            <div class="architecture-diagram">
                <div class="arch-step">
                    <div class="arch-icon">üìÅ</div>
                    <h3>Rule Configuration</h3>
                    <p>Creation of INI files with distribution rules</p>
                </div>
                <div class="arch-arrow">‚Üí</div>
                <div class="arch-step">
                    <div class="arch-icon">‚öôÔ∏è</div>
                    <h3>Rule Processing</h3>
                    <p>The SKSE plugin reads and processes the rules automatically</p>
                </div>
                <div class="arch-arrow">‚Üí</div>
                <div class="arch-step">
                    <div class="arch-icon">üîÑ</div>
                    <h3>Presets Update</h3>
                    <p>Safe modification of the OBody JSON file</p>
                </div>
                <div class="arch-arrow">‚Üí</div>
                <div class="arch-step">
                    <div class="arch-icon">‚úÖ</div>
                    <h3>Changes Application</h3>
                    <p>The presets are applied in the game automatically</p>
                </div>
            </div>

            <div class="data-flow">
                <h3>Data Flow</h3>
                <div class="flow-description">
                    <p>The system reads INI files with distribution rules, processes them through the SKSE plugin, updates the OBody JSON files safely, and applies the changes preserving the integrity of existing data.</p>
                </div>
            </div>
        </div>
    </section>

        <!-- Diagramas -->
        <section id="diagrams" class="section bg-celeste">
            <div class="container">
                <h2 class="section-title">Operational Flowcharts</h2>

                <div class="data-flow" style="margin-bottom: 30px;">
                    <div class="flow-description">
                        <p>It is a visual representation of how the mod works and how actions are gradually implemented. <span style="color: var(--color-primary); font-weight: bold;">This section is extensive and not necessary to understand the mod; if you are a normal user of the mod, the INI files will suffice.</span> However, if you want to know more about how the project is improving, you can read these flowcharts. I tend to use them a lot in all my projects.</p>
                    </div>
                </div>

                <div class="flowchart-item" style="margin-bottom: 1.5rem; border: 1px solid var(--color-card-border); border-radius: var(--radius-lg); padding: var(--space-16); background-color: var(--color-surface);">
                    <details>
                      <summary>‚ú® Show/Hide Flowchart v1.6.0</summary>
                      <div class="modes-info">
                          <p class="modes-explanation">
                              <strong>‚ú® Flowchart v1.6.0:</strong> This is the first public version. Although it has proven stable for beta testers, we plan to enhance the backup system in upcoming releases. The workflow is straightforward: it begins by reviewing the INI files, then checks for the JSON file, applies the necessary changes, verifies the structure, and performs a simple backup if this option is enabled in the configuration INI.
                          </p>
                      </div>
                      <div class="mermaid">
                        flowchart TD
    A[üöÄ SKSE Plugin Load Game starts] --> B[üìÅ Basic Initialization<br/>GetDocumentsPath + GetGamePath<br/>CreateDirectoryIfNotExists]
    B --> C[‚öôÔ∏è Read Backup Config INI<br/>ReadBackupConfigFromIni<br/>Create if not exists with Backup=1]
    C --> D[üîç BASIC JSON Check<br/>Simple existence check]
    
    D --> E{‚ùì Master JSON<br/>Exists?}
    E -->|NO| F[‚ùå END PROCESS<br/>JSON Not Found<br/>WITHOUT automatic restore]
    E -->|YES| G{üîÑ Backup<br/>Config?}
    
    G -->|Backup=1| H[üíæ BASIC Backup<br/>PerformJsonBackup]
    G -->|Backup=0| I[üìñ Read Existing JSON<br/>ReadCompleteJson<br/>Basic parseOrderedPlugins]
    
    H --> J[‚úèÔ∏è Update INI<br/>UpdateBackupConfigInIni<br/>Backup = 0]
    J --> I
    
    I --> K{‚úÖ JSON Read<br/>readSuccess?}
    K -->|NO| L[‚ùå END PROCESS<br/>JSON READ FAILED<br/>WITHOUT recovery system]
    K -->|YES| M[üìÇ Scan Data Folder<br/>directory_iterator<br/>OBodyNG_PDA_*.ini]
    
    M --> N[üìù Process INI Rules<br/>Basic ParseRuleLine<br/>Add/Remove Presets/Plugins<br/>Simple counts]
    N --> O[üî¢ Update INI Counts<br/>UpdateIniRuleCount<br/>Basic decrement]
    O --> P[üìä Basic Log Summary<br/>Simple statistics<br/>Rules/Files/Presets]
    
    P --> Q[üèóÔ∏è Update JSON<br/>UpdateJsonSelectively<br/>Basic preserve original]
    Q --> R[üíæ BASIC Write<br/>Direct write to file]
    
    R --> S{‚úÖ Write<br/>Successful?}
    S -->|NO| T[‚ùå WRITE ERROR<br/>WITHOUT backup restore<br/>Process failed]
    S -->|YES| U[üîç BASIC FORMAT<br/>PrettyPrintJson<br/>Simple indentation]
    
    U --> V{üìè Format<br/>Applied?}
    V -->|NO| W[‚úèÔ∏è BASIC REFORMAT<br/>4 simple spaces<br/>WITHOUT isEmptyBlock helper]
    V -->|YES| X[‚úÖ Basic JSON Complete<br/>Simple format applied]
    
    W --> Y{‚úÖ Basic<br/>Reformat OK?}
    Y -->|NO| Z[‚ùå FORMAT ERROR<br/>Process with warnings]
    Y -->|YES| X
    
    X --> AA[üìä Basic Final Log<br/>Process completed<br/>Basic JSON formatting]
    Z --> AA
    T --> AA
    
    AA --> BB[üí¨ Basic Console Message<br/>OBody Assistant: Basic process completed!]
    BB --> CC[üèÅ END: Basic Process Complete<br/>JSON with simple format]
    
    F --> DD[üèÅ END: JSON Not Found<br/>WITHOUT automatic recovery<br/>CONTACT MODDER OR REINSTALL!]
    L --> EE[üèÅ END: Read Error]
    
    %% Styles
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#333
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#333
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#333
    classDef error fill:#ffebee,stroke:#b71c1c,stroke-width:2px,color:#333
    classDef backup fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#333
    classDef basicFeature fill:#f5f5f5,stroke:#616161,stroke-width:2px,color:#333
    classDef logFeature fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#333
    
    class A,CC,DD,EE startEnd
    class B,C,I,M,N,O,P,Q,R process
    class E,G,K,S,V,Y decision
    class F,L,T,Z error
    class H,J backup
    class D,U,W,X basicFeature
    class AA,BB logFeature
                      </div>
                    </details>
                </div>

                <div class="flowchart-item" style="margin-bottom: 1.5rem; border: 1px solid var(--color-card-border); border-radius: var(--radius-lg); padding: var(--space-16); background-color: var(--color-surface);">
                    <details>
                      <summary>üß∞ Show/Hide Flowchart v1.7.0</summary>
                      <div class="modes-info">
                          <p class="modes-explanation">
                              <strong>üß∞ Flowchart v1.7.0:</strong> This new version was created to improve the backup system, featuring more elaborate logic, structure analysis, and automatic restoration. It was designed to handle exceptionally large templates, including master JSON files exceeding 7,000 lines. As one of the first versions to incorporate this level of logical review, the process is swift when everything runs smoothly. However, if any issues are detected, the system will automatically create and restore from backups to ensure data integrity.
                          </p>
                      </div>
                      <div class="mermaid">
                        flowchart TD
    A[üöÄ SKSE Plugin Load Game starts] --> B[üìÅ Secure Initialization<br/>GetDocumentsPath + GetGamePath<br/>CreateDirectoryIfNotExists]
    B --> C[‚öôÔ∏è Read Backup Config INI<br/>ReadBackupConfigFromIni<br/>Create if not exists with Backup=1]
    C --> D[üîç SIMPLE JSON Validation<br/>PerformSimpleJsonIntegrityCheck<br/>Structure, balance, OBody keys]
    
    D --> E{‚ùì Master JSON<br/>Valid?}
    E -->|NO| F[‚ùå END PROCESS<br/>Corrupt JSON - CRITICAL ERROR<br/>No automatic restore in V1.7.2]
    E -->|YES| G{üîÑ Backup<br/>Config?}
    
    G -->|Backup=1| H[üíæ LITERAL Backup<br/>PerformLiteralJsonBackup<br/>Byte-by-byte copy]
    G -->|Backup=true| H1[üíæ LITERAL Backup<br/>Always Active Mode<br/>Do not update INI]
    G -->|Backup=0/false| I[üìñ Read Master JSON<br/>ReadCompleteJson<br/>Parse 8 valid keys]
    
    H --> J[‚úèÔ∏è Update INI<br/>UpdateBackupConfigInIni<br/>Backup = 0]
    H1 --> K[‚ÑπÔ∏è Keep INI<br/>Backup = true without changes]
    J --> I
    K --> I
    
    I --> L{‚úÖ JSON Read<br/>readSuccess?}
    L -->|NO| M[üîÑ Restore from Backup<br/>RestoreJsonFromBackup<br/>Manual restoration attempt]
    M --> N[üìÅ Move Corrupted<br/>MoveCorruptedJsonToAnalysis<br/>Unique timestamp ‚Üí Analysis]
    N --> O[üîÑ Retry Read<br/>ReadCompleteJson]
    O --> P{‚úÖ Read OK<br/>after restore?}
    P -->|NO| Q[‚ùå END PROCESS<br/>JSON READ FAILED]
    P -->|YES| R[üìÇ Scan Data Folder<br/>directory_iterator<br/>OBodyNG_PDA_*.ini]
    
    L -->|YES| R
    R --> S[üìù Process INI Rules<br/>ParseRuleLine + validKeys<br/>Add/Remove Presets/Plugins<br/>Dynamic counts]
    S --> T[üî¢ Update INI Counts<br/>UpdateIniRuleCount<br/>Automatic decrement]
    T --> U[üìä Detailed Log Summary<br/>Complete statistics<br/>Rules/Files/Presets/Plugins]
    
    U --> V[üèóÔ∏è Preserve Original<br/>PreserveOriginalSections<br/>Update only modified keys<br/>Exact 4-space format]
    V --> W[üíæ ATOMIC Write<br/>WriteJsonAtomically<br/>.tmp file + PerformTripleValidation]
    
    W --> X{‚úÖ Write<br/>Successful?}
    X -->|NO| Y[üîÑ Restore Backup<br/>RestoreJsonFromBackup<br/>Write failure]
    X -->|YES| Z[üîç INDENTATION CORRECTION<br/>CorrectJsonIndentation<br/>Basic - WITHOUT advanced detection]
    
    Z --> AA{üìè Indentation<br/>Already Correct?}
    AA -->|YES| BB[‚úÖ JSON Already Perfect<br/>4 basic spaces<br/>Without advanced multi-line detection]
    AA -->|NO| CC[‚úèÔ∏è BASIC REFORMAT<br/>4 spaces per level<br/>Without advanced isEmptyBlock helper]
    
    CC --> DD{‚úÖ Basic<br/>Reformat Complete?}
    DD -->|NO| EE[üîÑ Restore Backup<br/>Indentation correction failure]
    DD -->|YES| FF[üîç Final TRIPLE Validation<br/>PerformTripleValidation<br/>Structure + Integrity + Keys]
    
    BB --> FF
    FF --> GG{‚úÖ Final JSON<br/>Valid?}
    GG -->|NO| HH[üîÑ Restore Backup<br/>+ Forensic Analysis<br/>MoveCorruptedJsonToAnalysis]
    GG -->|YES| II[üìä Final Log Success<br/>Process completed successfully<br/>Basic 4-space formatting]
    
    Y --> JJ[üìä Log Backup Restore<br/>JSON restored after write failure]
    EE --> KK[üìä Log Backup Restore<br/>JSON restored after indent failure]  
    HH --> LL[üìä Log Critical Error<br/>Could not restore from backup]
    
    JJ --> II
    KK --> II
    LL --> II
    
    II --> MM[üí¨ Console Message<br/>OBody Assistant: Process completed!]
    MM --> NN[üèÅ END: Process Complete<br/>JSON with basic format<br/>4-space hierarchy without optimizations]
    
    F --> OO[üèÅ END: Corrupt JSON<br/>Without automatic restore<br/>CONTACT MODDER OR REINSTALL!]
    Q --> PP[üèÅ END: Critical Error<br/>JSON read failed]
    
    %% Styles
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#333
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#333
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#333
    classDef error fill:#ffebee,stroke:#b71c1c,stroke-width:2px,color:#333
    classDef backup fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#333
    classDef basicFeature fill:#e8eaf6,stroke:#5c6bc0,stroke-width:2px,color:#333
    classDef logFeature fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#333
    
    class A,NN,OO,PP startEnd
    class B,C,I,R,S,T,U,V,W process
    class E,G,L,P,X,AA,DD,GG decision
    class F,Q,Y,EE,HH error
    class H,H1,J,K,M,N backup
    class D,Z,CC,FF,BB basicFeature
    class II,JJ,KK,LL,MM logFeature
                      </div>
                    </details>
                </div>

                <div class="flowchart-item" style="margin-bottom: 1.5rem; border: 1px solid var(--color-card-border); border-radius: var(--radius-lg); padding: var(--space-16); background-color: var(--color-surface);">
                    <details>
                      <summary>‚è© Show/Hide Flowchart v1.7.5</summary>
                      <div class="modes-info">
                          <p class="modes-explanation">
                              <strong>‚è© Flowchart v1.7.5:</strong> This is the fifth revision of version 1.7. Although the previous version performed its function perfectly, we decided to further enhance the structure, simplify some messages to prevent confusion, and include a 3-step reading and structure analysis. Additionally, a more advanced method for modifying and incorporating rules has been implemented. The entire procedure, while seemingly extensive, executes in a fraction of a second, ensuring it is both fast and robust. This level of polish was achieved thanks to the valuable feedback from our beta testers.
                          </p>
                      </div>
                      <div class="mermaid">
                        flowchart TD
    A[üöÄ SKSE Plugin Load Game starts] --> B[üìÅ Secure Initialization<br/>GetDocumentsPath + GetGamePath<br/>CreateDirectoryIfNotExists]
    B --> C[‚öôÔ∏è Read Backup Config INI<br/>ReadBackupConfigFromIni<br/>Create if not exists with Backup=1]
    C --> D[üîç SIMPLE JSON Validation<br/>PerformSimpleJsonIntegrityCheck<br/>Structure, balance, OBody keys]
    
    D --> E{‚ùì Master JSON<br/>Valid?}
    E -->|YES| G{üîÑ Backup<br/>Config?}
    E -->|NO| F1[üîÑ AUTOMATIC RESTORE<br/>RestoreJsonFromBackup<br/>Attempt to recover from backup]
    
    F1 --> F2{‚úÖ Restoration<br/>Successful?}
    F2 -->|YES| F3[üìä Log: JSON Restored<br/>Continue normal process]
    F2 -->|NO| F[‚ùå END PROCESS<br/>Corrupt JSON without valid backup<br/>CRITICAL ERROR + recommended actions]
    F3 --> G
    
    G -->|Backup=1| H[üíæ LITERAL Backup<br/>PerformLiteralJsonBackup<br/>Byte-by-byte copy to Backup_OBody_DPA]
    G -->|Backup=true| H1[üíæ LITERAL Backup<br/>Always Active Mode<br/>Do not update INI ‚Üí Backup_OBody_DPA]
    G -->|Backup=0/false| I[üìñ Read Master JSON<br/>ReadCompleteJson<br/>Parse 8 valid keys]
    
    H --> J[‚úèÔ∏è Update INI<br/>UpdateBackupConfigInIni<br/>Backup = 0]
    H1 --> K[‚ÑπÔ∏è Keep INI<br/>Backup = true without changes]
    J --> I
    K --> I
    
    I --> L{‚úÖ JSON Read<br/>readSuccess?}
    L -->|NO| M[üîÑ Restore from Backup<br/>RestoreJsonFromBackup<br/>Backup_OBody_DPA]
    M --> N[üìÅ Move Corrupted<br/>MoveCorruptedJsonToAnalysis<br/>Unique timestamp ‚Üí Analysis]
    N --> O[üîÑ Retry Read<br/>ReadCompleteJson]
    O --> P{‚úÖ Read OK<br/>after restore?}
    P -->|NO| Q[‚ùå END PROCESS<br/>JSON READ FAILED]
    P -->|YES| R[üìÇ Scan Data Folder<br/>directory_iterator<br/>OBodyNG_PDA_*.ini]
    
    L -->|YES| R
    R --> S[üìù Process INI Rules<br/>ParseRuleLine + validKeys<br/>Add/Remove Presets/Plugins<br/>Dynamic counts]
    S --> T[üî¢ Update INI Counts<br/>UpdateIniRuleCount<br/>Automatic decrement]
    T --> U[üìä Detailed Log Summary<br/>Complete statistics<br/>Rules/Files/Presets/Plugins]
    
    U --> V[üèóÔ∏è Preserve Original<br/>PreserveOriginalSections<br/>Update only modified keys<br/>Exact 4-space format]
    V --> W[üíæ ATOMIC Write<br/>WriteJsonAtomically<br/>.tmp file + PerformTripleValidation]
    
    W --> X{‚úÖ Write<br/>Successful?}
    X -->|NO| Y[üîÑ Restore Backup<br/>RestoreJsonFromBackup<br/>Write failure]
    X -->|YES| Z[üîç INDENTATION CORRECTION<br/>CorrectJsonIndentation<br/>Detect Multi-line Empty Containers]
    
    Z --> AA{üìè Indentation<br/>Already Correct?}
    AA -->|YES| BB[‚úÖ JSON Already Perfect<br/>4 spaces + inline empty<br/>Multi-line empty detection]
    AA -->|NO| CC[‚úèÔ∏è FULL REFORMAT<br/>isEmptyBlock Helper<br/>Empty containers inline<br/>With content 4 spaces]
    
    CC --> DD{üîß isEmptyBlock<br/>Multi-line + inline?}
    DD -->|Empty Container| EE[üìù Write inline<br/>containers or arrays same line]
    DD -->|With Data| FF[üìù Standard format<br/>4 spaces per level]
    
    EE --> GG[üîÑ Continue parsing<br/>Next container]
    FF --> GG
    GG --> HH{‚úÖ Reformat<br/>Complete?}
    
    HH -->|NO| II[üîÑ Restore Backup<br/>Indentation correction failure]
    HH -->|YES| JJ[üîç Final TRIPLE Validation<br/>PerformTripleValidation<br/>Structure + Integrity + Keys]
    
    BB --> JJ
    JJ --> KK{‚úÖ Final JSON<br/>Valid?}
    KK -->|NO| LL[üîÑ Restore Backup<br/>+ Forensic Analysis<br/>MoveCorruptedJsonToAnalysis]
    KK -->|YES| MM[üìä Final Log Success<br/>Process completed successfully<br/>Perfect 4-space formatting]
    
    Y --> NN[üìä Log Backup Restore<br/>JSON restored after write failure]
    II --> OO[üìä Log Backup Restore<br/>JSON restored after indent failure]  
    LL --> PP[üìä Log Critical Error<br/>Could not restore from backup]
    
    NN --> MM
    OO --> MM
    PP --> MM
    
    MM --> QQ[üí¨ Console Message<br/>OBody Assistant: Process completed!]
    QQ --> RR[üèÅ END: Process Complete<br/>JSON with perfect format<br/>Inline empty + 4-space hierarchy<br/>Folder: Backup_OBody_DPA]
    
    F --> SS[üèÅ END: Corrupt JSON<br/>No valid backup available<br/>CONTACT MODDER OR REINSTALL!]
    Q --> TT[üèÅ END: Critical Error<br/>JSON read failed]
    
    %% Styles
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#333
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#333
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#333
    classDef error fill:#ffebee,stroke:#b71c1c,stroke-width:2px,color:#333
    classDef backup fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#333
    classDef newFeature fill:#e3f2fd,stroke:#0277bd,stroke-width:3px,color:#333
    classDef inlineFeature fill:#fff9c4,stroke:#f57f17,stroke-width:3px,color:#333
    classDef logFeature fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#333
    classDef autoRestore fill:#e8eaf6,stroke:#3f51b5,stroke-width:3px,color:#333
    
    class A,RR,SS,TT startEnd
    class B,C,I,R,S,T,U,V,W process
    class E,G,L,P,X,AA,DD,HH,KK,F2 decision
    class F,Q,Y,II,LL error
    class H,H1,J,K,M,N backup
    class D,Z,CC,JJ newFeature
    class EE,FF,GG,BB inlineFeature
    class MM,NN,OO,PP,QQ,F3 logFeature
    class F1 autoRestore
                      </div>
                    </details>
                </div>

                <div class="flowchart-item" style="border: 1px solid var(--color-card-border); border-radius: var(--radius-lg); padding: var(--space-16); background-color: var(--color-surface);">
                    <details>
                      <summary>üöÄ Show/Hide Flowchart v1.7.12</summary>
                      <div class="modes-info">
                          <p class="modes-explanation">
                              <strong>üöÄ Flowchart v1.7.12:</strong> This is likely the final and most polished revision of the 1.7 branch, designed to be exceptionally fail-proof. Its logic is engineered to prevent all types of issues by first initializing and verifying the environment. The process continues by reading the INI rules, checking the integrity of the master JSON, and then performing a backup. It re-verifies if new rules need to be applied, leaving the master JSON untouched if no changes are necessary. This is followed by a 3-step structural review, a method that minimizes direct modifications to the JSON, preventing file corruption by only writing when explicitly required. The entire operation is extremely fast, executing in less than a second, and supports highly complex JSON files, even those exceeding 7,000 lines or 50 MB‚Äîa scale we don't anticipate being common. Following this release, development will focus on version 1.8, which will introduce rules for automatic blacklisting and is expected in a few months.
                          </p>
                      </div>
                      <div class="mermaid">
                        flowchart TD
    A[üöÄ SKSE Plugin Load Game starts] --> B[üìÅ Secure Initialization<br/>GetDocumentsPath + GetGamePath<br/>CreateDirectoryIfNotExists]
    B --> C[‚öôÔ∏è Read Backup Config INI<br/>ReadBackupConfigFromIni<br/>Create if not exists with Backup=1]
    C --> D[üîç SIMPLE JSON Validation<br/>PerformSimpleJsonIntegrityCheck<br/>Structure, balance, OBody keys]
    
    D --> E{‚ùì Master JSON<br/>Valid?}
    E -->|YES| G{üîÑ Backup<br/>Config?}
    E -->|NO| F1[üîÑ AUTOMATIC RESTORE<br/>RestoreJsonFromBackup<br/>Attempt to recover from backup]
    
    F1 --> F2{‚úÖ Restoration<br/>Successful?}
    F2 -->|YES| F3[üìä Log: JSON Restored<br/>Continue normal process]
    F2 -->|NO| F[‚ùå END PROCESS<br/>Corrupt JSON without valid backup<br/>CRITICAL ERROR + recommended actions]
    F3 --> G
    
    G -->|Backup=1| H[üíæ LITERAL Backup<br/>PerformLiteralJsonBackup<br/>Byte-by-byte copy to Backup_OBody_DPA]
    G -->|Backup=true| H1[üíæ LITERAL Backup<br/>Always Active Mode<br/>Do not update INI ‚Üí Backup_OBody_DPA]
    G -->|Backup=0/false| I[üìñ Read Master JSON<br/>ReadCompleteJson<br/>Parse 8 valid keys]
    
    H --> J[‚úèÔ∏è Update INI<br/>UpdateBackupConfigInIni<br/>Backup = 0]
    H1 --> K[‚ÑπÔ∏è Keep INI<br/>Backup = true without changes]
    J --> I
    K --> I
    
    I --> L{‚úÖ JSON Read<br/>readSuccess?}
    L -->|NO| M[üîÑ Restore from Backup<br/>RestoreJsonFromBackup<br/>Backup_OBody_DPA]
    M --> N[üìÅ Move Corrupted<br/>MoveCorruptedJsonToAnalysis<br/>Unique timestamp ‚Üí Analysis]
    N --> O[üîÑ Retry Read<br/>ReadCompleteJson]
    O --> P{‚úÖ Read OK<br/>after restore?}
    P -->|NO| Q[‚ùå END PROCESS<br/>JSON READ FAILED]
    P -->|YES| R[üìÇ Scan Data Folder<br/>directory_iterator<br/>OBodyNG_PDA_*.ini]
    
    L -->|YES| R
    R --> S[üìù Process INI Rules<br/>ParseRuleLine + validKeys<br/>Add/Remove Presets/Plugins<br/>Dynamic counts]
    S --> T[üî¢ Update INI Counts<br/>UpdateIniRuleCount<br/>Automatic decrement]
    T --> U[üìä Detailed Log Summary<br/>Complete statistics<br/>Rules/Files/Presets/Plugins]
    
    U --> V[üèóÔ∏è Preserve Original<br/>PreserveOriginalSections<br/>Update only modified keys<br/>Exact 4-space format]
    V --> VV{üîç VERIFY CHANGES<br/>Needed?}
    
    VV -->|YES| W[üíæ ATOMIC Write<br/>WriteJsonAtomically<br/>.tmp file + PerformTripleValidation]
    VV -->|NO| Z[üîç INDENTATION CORRECTION<br/>CorrectJsonIndentation<br/>Detect Multi-line Empty Containers]
    
    W --> X{‚úÖ Write<br/>Successful?}
    X -->|NO| Y[üîÑ Restore Backup<br/>RestoreJsonFromBackup<br/>Write failure]
    X -->|YES| Z
    
    Z --> AA{üìè Indentation<br/>Already Correct?}
    AA -->|YES| BB[‚úÖ JSON Already Perfect<br/>4 spaces + inline empty<br/>Multi-line empty detection]
    AA -->|NO| CC[‚úèÔ∏è FULL REFORMAT<br/>isEmptyBlock Helper<br/>Empty containers inline<br/>With content 4 spaces]
    
    CC --> DD{üîß isEmptyBlock<br/>Multi-line + inline?}
    DD -->|Empty Container| EE[üìù Write inline<br/>containers or arrays same line]
    DD -->|With Data| FF[üìù Standard format<br/>4 spaces per level]
    
    EE --> GG[üîÑ Continue parsing<br/>Next container]
    FF --> GG
    GG --> HH{‚úÖ Reformat<br/>Complete?}
    
    HH -->|NO| II[üîÑ Restore Backup<br/>Indentation correction failure]
    HH -->|YES| JJ[üîç Final TRIPLE Validation<br/>PerformTripleValidation<br/>Structure + Integrity + Keys]
    
    BB --> JJ
    JJ --> KK{‚úÖ Final JSON<br/>Valid?}
    KK -->|NO| LL[üîÑ Restore Backup<br/>+ Forensic Analysis<br/>MoveCorruptedJsonToAnalysis]
    KK -->|YES| MM[üìä Final Log Success<br/>Process completed successfully<br/>Perfect 4-space formatting]
    
    Y --> NN[üìä Log Backup Restore<br/>JSON restored after write failure]
    II --> OO[üìä Log Backup Restore<br/>JSON restored after indent failure]  
    LL --> PP[üìä Log Critical Error<br/>Could not restore from backup]
    
    NN --> MM
    OO --> MM
    PP --> MM
    
    MM --> QQ[üí¨ Console Message<br/>OBody Assistant: Process completed!]
    QQ --> RR[üèÅ END: Process Complete<br/>JSON with perfect format<br/>Inline empty + 4-space hierarchy<br/>Folder: Backup_OBody_DPA]
    
    F --> SS[üèÅ END: Corrupt JSON<br/>No valid backup available<br/>CONTACT MODDER OR REINSTALL!]
    Q --> TT[üèÅ END: Critical Error<br/>JSON read failed]
    
    %% Styles
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#333
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#333
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#333
    classDef error fill:#ffebee,stroke:#b71c1c,stroke-width:2px,color:#333
    classDef backup fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#333
    classDef newFeature fill:#e3f2fd,stroke:#0277bd,stroke-width:3px,color:#333
    classDef inlineFeature fill:#fff9c4,stroke:#f57f17,stroke-width:3px,color:#333
    classDef logFeature fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#333
    classDef autoRestore fill:#e8eaf6,stroke:#3f51b5,stroke-width:3px,color:#333
    classDef verification fill:#fce4ec,stroke:#ad1457,stroke-width:3px,color:#333
    
    class A,RR,SS,TT startEnd
    class B,C,I,R,S,T,U,V,W process
    class E,G,L,P,X,AA,DD,HH,KK,F2,VV decision
    class F,Q,Y,II,LL error
    class H,H1,J,K,M,N backup
    class D,Z,CC,JJ newFeature
    class EE,FF,GG,BB inlineFeature
    class MM,NN,OO,PP,QQ,F3 logFeature
    class F1 autoRestore
    class VV verification
                      </div>
                    </details>
                </div>

                <div style="height: 2rem;"></div>

                <div class="flowchart-item" style="margin-bottom: 1.5rem; border: 1px solid var(--color-card-border); border-radius: var(--radius-lg); padding: var(--space-16); background-color: var(--color-surface);">
                    <details>
                      <summary>üíÉ Show/Hide Flowchart v2.2.5</summary>
                      <div class="modes-info">
                          <p class="modes-explanation">
                              <strong>üíÉ Flowchart v2.2.5:</strong> Version 2.2.5 adds a Smart Cleaning system with 6 levels of intelligent preset matching (exact, decoded, normalized, filename, normalized map, variations) that automatically detects incorrect or missing preset names and corrects or removes them as appropriate, with protection lists for critical presets like "Zeroed Sliders". THIS IS COMPLETELY CONFIGURABLE IN THE MOD'S CONFIGURATION INI. It incorporates automatic UBE preset detection through XML file analysis that identifies conflicting groups (3BA/3BBB/CBBE) and automatically distributes 22 UBE races (11 base + 11 vampire), adding presets to blacklist and races based on whether they have "UBE" in the name or not, with an exclusion list for special presets. It generates three specialized logs: Doctor.log lists all XMLs found in the BodySlide folder, SmartCleaning.log shows extracted internal names and filename-to-internal mappings, and Helper.log includes random usage examples with user presets and complete list separated into NORMAL vs UBE categories. It adds granular configuration through 5 independent flags (presetsSmartCleaning, blacklistedPresetsSmartCleaningFromRandomDistribution, blacklistedPresetsSmartCleaningFromAll, outfitsForceReSmartCleaning, modeUBE) that control cleaning behavior by section. It implements automatic truncation of preset names at ; and , delimiters, replacement of generic "CustomPreset" with real filename, improved multi-language support with triple fallback UTF-8‚ÜíCP_ACP‚ÜíASCII safe, and deep XML information extraction with HTML entity decoding {which for some reasons presets use and took me a long time to realize, hahaha.
                          </p>
                      </div>
                      <div class="mermaid">
                        flowchart TD
    A[üöÄ SKSE Plugin Load] --> B[üìÅ Secure Initialization<br/>GetDocumentsPath + GetGamePath<br/>CreateDirectoryIfNotExists]
    B --> C[‚öôÔ∏è Read Config INI<br/>ReadConfigFromIni<br/>Backup, ModeUBE, Smart Cleaning flags]
    C --> D[üîç SIMPLE JSON Validation<br/>PerformSimpleJsonIntegrityCheck<br/>Structure, balance, OBody keys]
    
    D --> E{‚ùì Master JSON<br/>Valid?}
    E -->|YES| G{üîÑ Backup<br/>Config?}
    E -->|NO| F1[üîÑ AUTOMATIC RESTORE<br/>RestoreJsonFromBackup<br/>Attempt recovery from backup]
    
    F1 --> F2{‚úÖ Restoration<br/>Successful?}
    F2 -->|YES| F3[üìä Log: JSON Restored<br/>Continue normal process]
    F2 -->|NO| F[‚ùå END PROCESS<br/>CRITICAL ERROR<br/>No valid backup available]
    F3 --> G
    
    G -->|Backup=1| H[üíæ LITERAL Backup<br/>PerformLiteralJsonBackup<br/>Byte-by-byte copy]
    G -->|Backup=true| H1[üíæ LITERAL Backup<br/>Always Active Mode<br/>Keep INI unchanged]
    G -->|Backup=0/false| I[üìñ Read Master JSON<br/>ReadCompleteJson<br/>Parse all valid keys]
    
    H --> J[‚úèÔ∏è Update INI<br/>Backup = 0]
    H1 --> K[‚ÑπÔ∏è Keep INI<br/>Backup = true unchanged]
    J --> I
    K --> I
    
    I --> L{‚úÖ JSON Read<br/>Success?}
    L -->|NO| M[üîÑ Restore from Backup<br/>RestoreJsonFromBackup]
    M --> N[üìÅ Move Corrupted<br/>MoveCorruptedJsonToAnalysis<br/>Timestamp ‚Üí Analysis]
    N --> O[üîÑ Retry Read<br/>ReadCompleteJson]
    O --> P{‚úÖ Read OK<br/>after restore?}
    P -->|NO| Q[‚ùå END PROCESS<br/>JSON READ FAILED]
    P -->|YES| R[üìÇ Scan Data Folder<br/>OBodyNG_PDA_*.ini files]
    
    L -->|YES| R
    R --> DD[üìã Generate Doctor Log<br/>GenerateDoctorLog<br/>List all XML files found]
    DD --> S[üèóÔ∏è Build Preset Map<br/>BuildPresetNameMap<br/>Extract internal names from XML]
    S --> SS[üìã Generate Smart Cleaning Log<br/>GenerateSmartCleaningLog<br/>Preset reference list]
    SS --> T[üìù Process INI Rules<br/>ParseRuleLine<br/>Add/Remove Presets/Plugins]
    T --> U[üî¢ Update INI Counts<br/>UpdateIniRuleCount<br/>Automatic decrement]
    
    U --> V[üßπ Smart Cleaning<br/>PerformSmartCleaning<br/>Intelligent preset matching]
    V --> V1{üõ°Ô∏è Smart Cleaning<br/>Enabled?}
    V1 -->|YES| V2[üîç Match Presets<br/>FindPresetMatch<br/>6-level matching algorithm]
    V2 --> V3[‚úÇÔ∏è Remove Non-Existent<br/>üîß Correct Preset Names<br/>üìä Log Missing Presets]
    V1 -->|NO| W
    V3 --> W[üéÆ UBE XML Scan<br/>ProcessUBEXmlPresets<br/>Detect UBE + conflicts]
    
    W --> W1{üîç UBE Groups<br/>Found?}
    W1 -->|YES| W2[üìä Analyze XML Groups<br/>AnalyzeXmlGroups<br/>Detect 3BA/3BBB/CBBE conflicts]
    W2 --> W3{‚ö†Ô∏è Conflict<br/>Detected?}
    W3 -->|YES + UBE in name| W4[‚úÖ Add to Blacklist + Races<br/>Allow in UBE races]
    W3 -->|YES + NO UBE in name| W5[‚úÖ Add to Blacklist ONLY<br/>Exclude from UBE races]
    W3 -->|NO Conflict| W6[‚úÖ Add to Blacklist + Races<br/>Pure UBE preset]
    W1 -->|NO| X
    W4 --> X[üéØ Apply UBE to JSON<br/>ApplyUBEPresetsToJson<br/>Blacklist + 22 UBE Races]
    W5 --> X
    W6 --> X
    
    X --> Y[üìã Generate Helper Log<br/>GenerateHelperLog<br/>Preset list + INI examples]
    Y --> Z[üèóÔ∏è Preserve Original<br/>PreserveOriginalSections<br/>Update only modified keys]
    Z --> ZZ{üîç VERIFY CHANGES<br/>CheckIfChangesNeeded?}
    
    ZZ -->|YES| AA[üíæ ATOMIC Write<br/>WriteJsonAtomically<br/>.tmp + PerformTripleValidation]
    ZZ -->|NO| BB[‚ÑπÔ∏è Skip Write<br/>No changes detected]
    
    AA --> CC{‚úÖ Write<br/>Successful?}
    CC -->|NO| YY[üîÑ Restore Backup<br/>Write failure]
    CC -->|YES| DD1[üîç INDENTATION CORRECTION<br/>CorrectJsonIndentation<br/>4-space hierarchy]
    BB --> DD1
    
    DD1 --> EE{üìè Indentation<br/>Correct?}
    EE -->|YES| FF[‚úÖ JSON Already Perfect<br/>4 spaces verified]
    EE -->|NO| GG[‚úèÔ∏è FULL REFORMAT<br/>4 spaces per level<br/>Empty containers inline]
    
    GG --> HH{‚úÖ Reformat<br/>Complete?}
    HH -->|NO| II[üîÑ Restore Backup<br/>Indentation failure]
    HH -->|YES| JJ[üîç Final TRIPLE Validation<br/>PerformTripleValidation<br/>Structure + Keys]
    
    FF --> JJ
    JJ --> KK{‚úÖ Final JSON<br/>Valid?}
    KK -->|NO| LL[üîÑ Restore Backup<br/>+ Forensic Analysis]
    KK -->|YES| MM[üìä Final Log Summary<br/>Complete statistics<br/>All operations logged]
    
    YY --> NN[üìä Log Backup Restore]
    II --> OO[üìä Log Backup Restore]
    LL --> PP[üìä Log Critical Error]
    
    NN --> MM
    OO --> MM
    PP --> MM
    
    MM --> QQ[üí¨ Console Message<br/>OBody Assistant: Process completed!]
    QQ --> RR[üèÅ END: Success<br/>Perfect 4-space format<br/>Doctor/Helper/SmartCleaning logs generated<br/>UBE presets distributed]
    
    F --> SS1[üèÅ END: Critical Error]
    Q --> TT[üèÅ END: JSON Read Failed]
    
    %% Styles
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#333
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#333
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#333
    classDef error fill:#ffebee,stroke:#b71c1c,stroke-width:2px,color:#333
    classDef backup fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#333
    classDef newFeature fill:#e3f2fd,stroke:#0277bd,stroke-width:3px,color:#333
    classDef smartCleaning fill:#fff9c4,stroke:#f57f17,stroke-width:3px,color:#333
    classDef ubeFeature fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#333
    classDef logFeature fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#333
    
    class A,RR,SS1,TT startEnd
    class B,C,I,R,T,U,Z,AA process
    class E,G,L,P,CC,EE,HH,KK,F2,ZZ,V1,W1,W3 decision
    class F,Q,YY,II,LL error
    class H,H1,J,K,M,N backup
    class D,DD1,GG,JJ newFeature
    class V,V1,V2,V3,SS smartCleaning
    class W,W1,W2,W3,W4,W5,W6,X ubeFeature
    class DD,SS,Y,MM,NN,OO,PP,QQ,F3 logFeature
                      </div>
                    </details>
                </div>

                <div class="flowchart-item" style="margin-bottom: 1.5rem; border: 1px solid var(--color-card-border); border-radius: var(--radius-lg); padding: var(--space-16); background-color: var(--color-surface);">
                    <details>
                      <summary>üöÄ Show/Hide Flowchart v2.4.1</summary>
                      <div class="modes-info">
                          <p class="modes-explanation">
                              <strong>üöÄ Flowchart v2.4.1:</strong> Example text for the new version.
                          </p>
                      </div>
                      <div class="mermaid">
                        flowchart TD
    A[üöÄ SKSE Plugin Load - Version 2.4.0] --&gt; B[üìÅ Secure Initialization&lt;br/&gt;GetDocumentsPath + GetGamePath&lt;br/&gt;CreateDirectoryIfNotExists]
    B --&gt; C[‚öôÔ∏è Read Config INI&lt;br/&gt;ReadConfigFromIni&lt;br/&gt;Backup, ModeUBE, ModeHIMBO&lt;br/&gt;Smart Cleaning flags&lt;br/&gt;Conflict Resolution flag]
    C --&gt; D[üîç SIMPLE JSON Validation&lt;br/&gt;PerformSimpleJsonIntegrityCheck&lt;br/&gt;Structure, balance, OBody keys]
    
    D --&gt; E{‚ùì Master JSON&lt;br/&gt;Valid?}
    E --&gt;|YES| G{üîÑ Backup&lt;br/&gt;Config?}
    E --&gt;|NO| F1[üîÑ AUTOMATIC RESTORE&lt;br/&gt;RestoreJsonFromBackup&lt;br/&gt;Attempt recovery from backup]
    
    F1 --&gt; F2{‚úÖ Restoration&lt;br/&gt;Successful?}
    F2 --&gt;|YES| F3[üìä Log: JSON Restored&lt;br/&gt;Continue normal process]
    F2 --&gt;|NO| F[‚ùå END PROCESS&lt;br/&gt;CRITICAL ERROR&lt;br/&gt;No valid backup available]
    F3 --&gt; G
    
    G --&gt;|Backup=1| H[üíæ LITERAL Backup&lt;br/&gt;PerformLiteralJsonBackup&lt;br/&gt;Byte-by-byte copy]
    G --&gt;|Backup=true/2| H1[üíæ LITERAL Backup&lt;br/&gt;Always Active Mode&lt;br/&gt;Keep INI unchanged]
    G --&gt;|Backup=0/false| I[üìñ Read Master JSON&lt;br/&gt;ReadCompleteJson&lt;br/&gt;Parse all valid keys]
    
    H --&gt; J[‚úèÔ∏è Update INI&lt;br/&gt;Backup = 0]
    H1 --&gt; K[‚ÑπÔ∏è Keep INI&lt;br/&gt;Backup = true unchanged]
    J --&gt; I
    K --&gt; I
    
    I --&gt; L{‚úÖ JSON Read&lt;br/&gt;Success?}
    L --&gt;|NO| M[üîÑ Restore from Backup&lt;br/&gt;RestoreJsonFromBackup]
    M --&gt; N[üìÅ Move Corrupted&lt;br/&gt;MoveCorruptedJsonToAnalysis&lt;br/&gt;Timestamp ‚Üí Analysis]
    N --&gt; O[üîÑ Retry Read&lt;br/&gt;ReadCompleteJson]
    O --&gt; P{‚úÖ Read OK&lt;br/&gt;after restore?}
    P --&gt;|NO| Q[‚ùå END PROCESS&lt;br/&gt;JSON READ FAILED]
    P --&gt;|YES| R[üìÇ Scan Data Folder&lt;br/&gt;OBodyNG_PDA_*.ini files]
    
    L --&gt;|YES| R
    R --&gt; R1[üìã Generate INI Analysis Log&lt;br/&gt;GenerateINIAnalysisLog&lt;br/&gt;Scan all INI files + statistics]
    R1 --&gt; DD[üìã Generate Doctor Log&lt;br/&gt;GenerateDoctorLog&lt;br/&gt;List all XML files found]
    DD --&gt; S[üèóÔ∏è Build Preset Map&lt;br/&gt;BuildPresetNameMap&lt;br/&gt;Extract internal names from XML&lt;br/&gt;Multi-preset support + HTML entity decoding]
    S --&gt; SS[üìã Generate Smart Cleaning Log&lt;br/&gt;GenerateSmartCleaningLog&lt;br/&gt;Preset reference list + mapping]
    
    SS --&gt; T[üìù Parse & Prioritize INI Rules&lt;br/&gt;ParseRuleLine + GetRulePriority&lt;br/&gt;Sort by priority: Standard ‚Üí Filter ‚Üí Remove ‚Üí Exclusive]
    T --&gt; T1{üîç Detect&lt;br/&gt;Conflicts?}
    T1 --&gt;|YES| T2[üö® Track Exclusive Conflicts&lt;br/&gt;RuleConflictTracker&lt;br/&gt;File modification timestamps]
    T1 --&gt;|NO| U
    T2 --&gt; T3{‚öôÔ∏è Smart Resolution&lt;br/&gt;Enabled?}
    T3 --&gt;|YES| T4[üîß Resolve Conflicts&lt;br/&gt;ResolveConflicts&lt;br/&gt;Newest file wins ‚Üí Update older count to 0]
    T3 --&gt;|NO| T5[‚ö†Ô∏è Skip All Conflicting Rules&lt;br/&gt;Log conflicts only]
    T4 --&gt; T6[üìã Generate Conflict Report&lt;br/&gt;GenerateConflictReport&lt;br/&gt;Detailed resolution log]
    T5 --&gt; T6
    T6 --&gt; U
    
    U[üéØ Process INI Rules&lt;br/&gt;Apply by priority order&lt;br/&gt;Add/Remove Presets/Plugins&lt;br/&gt;Support 43 rule modes]
    U --&gt; U1[üîë Process KEY Filtering Modes&lt;br/&gt;KeyWord/KeyWordChart/KeyAuthor&lt;br/&gt;KeyNormal/KeyUBE/KeyHIMBO&lt;br/&gt;With asterisk, dash, 1 variants]
    U1 --&gt; U2[üìä Update INI Counts&lt;br/&gt;UpdateIniRuleCount&lt;br/&gt;Automatic decrement for ONCE modes]
    
    U2 --&gt; V[üßπ Smart Cleaning Evaluation&lt;br/&gt;Check enabled flags per section]
    V --&gt; V1{üõ°Ô∏è Presets&lt;br/&gt;Smart Cleaning?}
    V1 --&gt;|YES| V2A[üîç Clean General Presets&lt;br/&gt;6-level matching algorithm&lt;br/&gt;Protected presets exemption]
    V1 --&gt;|NO| V3A
    V2A --&gt; V3A{üõ°Ô∏è Blacklisted Presets&lt;br/&gt;FromRandomDistribution?}
    V3A --&gt;|YES| V4A[üîç Clean Blacklist Random&lt;br/&gt;PerformSmartCleaning]
    V3A --&gt;|NO| V5A
    V4A --&gt; V5A{üõ°Ô∏è Blacklisted Presets&lt;br/&gt;FromAll?}
    V5A --&gt;|YES| V6A[üîç Clean All Blacklists&lt;br/&gt;PerformSmartCleaning]
    V5A --&gt;|NO| V7A
    V6A --&gt; V7A{üõ°Ô∏è OutfitsForceRe&lt;br/&gt;Smart Cleaning?}
    V7A --&gt;|YES| V8A[üîç Clean Outfits ForceRefit&lt;br/&gt;PerformSmartCleaning]
    V7A --&gt;|NO| W
    V8A --&gt; W
    
    W[üéÆ UBE/HIMBO XML Processing&lt;br/&gt;ProcessUBEXmlPresets + ProcessHIMBOXmlPresets&lt;br/&gt;Multi-preset extraction]
    W --&gt; W1{üîç ModeUBE&lt;br/&gt;Enabled?}
    W1 --&gt;|YES| W2[üìä Analyze UBE XMLs&lt;br/&gt;AnalyzeXmlGroups&lt;br/&gt;Detect 3BA/3BBB/CBBE conflicts]
    W1 --&gt;|NO| W9
    W2 --&gt; W3{‚ö†Ô∏è UBE Conflict&lt;br/&gt;Detected?}
    W3 --&gt;|YES + UBE in name| W4[‚úÖ Add to Blacklist + UBE Races&lt;br/&gt;Allow in 22 UBE races]
    W3 --&gt;|YES + NO UBE in name| W5[‚úÖ Add to Blacklist ONLY&lt;br/&gt;Exclude from UBE races]
    W3 --&gt;|NO Conflict| W6[‚úÖ Add to Blacklist + UBE Races&lt;br/&gt;Pure UBE preset]
    W4 --&gt; W7
    W5 --&gt; W7
    W6 --&gt; W7
    W7[üéØ Apply UBE to JSON&lt;br/&gt;Blacklist + 22 UBE Races]
    W7 --&gt; W9
    
    W9{üîç ModeHIMBO&lt;br/&gt;Enabled?}
    W9 --&gt;|YES| W10[üìä Analyze HIMBO XMLs&lt;br/&gt;AnalyzeXmlGroups&lt;br/&gt;Detect conflicts]
    W9 --&gt;|NO| X
    W10 --&gt; W11{‚ö†Ô∏è HIMBO Conflict&lt;br/&gt;Detected?}
    W11 --&gt;|YES + HIMBO in name| W12[‚úÖ Add to Blacklist + HIMBO Races&lt;br/&gt;Allow in 22 HIMBO races]
    W11 --&gt;|YES + NO HIMBO in name| W13[‚úÖ Add to Blacklist ONLY&lt;br/&gt;Exclude from HIMBO races]
    W11 --&gt;|NO Conflict| W14[‚úÖ Add to Blacklist + HIMBO Races&lt;br/&gt;Pure HIMBO preset]
    W12 --&gt; W15
    W13 --&gt; W15
    W14 --&gt; W15
    W15[üéØ Apply HIMBO to JSON&lt;br/&gt;Blacklist + 22 HIMBO races]
    W15 --&gt; X
    
    X[üìã Generate Helper Log&lt;br/&gt;GenerateHelperLog&lt;br/&gt;Preset lists + INI examples&lt;br/&gt;NORMAL vs UBE vs HIMBO categorization]
    X --&gt; Z[üèóÔ∏è Preserve Original&lt;br/&gt;PreserveOriginalSections&lt;br/&gt;Update only modified keys&lt;br/&gt;Exact 4-space format]
    Z --&gt; ZZ{üîç VERIFY CHANGES&lt;br/&gt;CheckIfChangesNeeded?}
    
    ZZ --&gt;|YES| AA[üíæ ATOMIC Write&lt;br/&gt;WriteJsonAtomically&lt;br/&gt;.tmp + PerformTripleValidation]
    ZZ --&gt;|NO| BB[‚ÑπÔ∏è Skip Write&lt;br/&gt;No changes detected]
    
    AA --&gt; CC{‚úÖ Write&lt;br/&gt;Successful?}
    CC --&gt;|NO| YY[üîÑ Restore Backup&lt;br/&gt;Write failure]
    CC --&gt;|YES| DD1[üîç INDENTATION CORRECTION&lt;br/&gt;CorrectJsonIndentation&lt;br/&gt;4-space hierarchy + inline empty]
    BB --&gt; DD1
    
    DD1 --&gt; EE{üìè Indentation&lt;br/&gt;Correct?}
    EE --&gt;|YES| FF[‚úÖ JSON Already Perfect&lt;br/&gt;4 spaces verified]
    EE --&gt;|NO| GG[‚úèÔ∏è FULL REFORMAT&lt;br/&gt;isEmptyBlock Helper&lt;br/&gt;Empty containers inline&lt;br/&gt;With content 4 spaces]
    
    GG --&gt; HH{‚úÖ Reformat&lt;br/&gt;Complete?}
    HH --&gt;|NO| II[üîÑ Restore Backup&lt;br/&gt;Indentation failure]
    HH --&gt;|YES| JJ[üîç Final TRIPLE Validation&lt;br/&gt;PerformTripleValidation&lt;br/&gt;Structure + Keys]
    
    FF --&gt; JJ
    JJ --&gt; KK{‚úÖ Final JSON&lt;br/&gt;Valid?}
    KK --&gt;|NO| LL[üîÑ Restore Backup&lt;br/&gt;+ Forensic Analysis]
    KK --&gt;|YES| MM[üìä Final Log Summary&lt;br/&gt;Complete statistics&lt;br/&gt;All operations logged&lt;br/&gt;INI Analysis/Doctor/Helper/SmartCleaning logs]
    
    YY --&gt; NN[üìä Log Backup Restore]
    II --&gt; OO[üìä Log Backup Restore]
    LL --&gt; PP[üìä Log Critical Error]
    
    NN --&gt; MM
    OO --&gt; MM
    PP --&gt; MM
    
    MM --&gt; QQ[üí¨ Console Message&lt;br/&gt;OBody Assistant v2.4.0: Process completed!]
    QQ --&gt; RR[üèÅ END: Success&lt;br/&gt;Perfect 4-space format&lt;br/&gt;4 logs generated&lt;br/&gt;UBE + HIMBO distributed&lt;br/&gt;43 rule modes supported&lt;br/&gt;Conflict resolution applied]
    
    F --&gt; SS1[üèÅ END: Critical Error]
    Q --&gt; TT[üèÅ END: JSON Read Failed]
    
    %% Styles
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#333
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#333
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#333
    classDef error fill:#ffebee,stroke:#b71c1c,stroke-width:2px,color:#333
    classDef backup fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#333
    classDef newFeature fill:#e3f2fd,stroke:#0277bd,stroke-width:3px,color:#333
    classDef smartCleaning fill:#fff9c4,stroke:#f57f17,stroke-width:3px,color:#333
    classDef ubeFeature fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#333
    classDef himboFeature fill:#e1bee7,stroke:#6a1b9a,stroke-width:3px,color:#333
    classDef logFeature fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#333
    classDef conflictFeature fill:#ffccbc,stroke:#d84315,stroke-width:3px,color:#333
    classDef keyFeature fill:#b2dfdb,stroke:#00695c,stroke-width:3px,color:#333
    
    class A,RR,SS1,TT startEnd
    class B,C,I,R,Z,AA process
    class E,G,L,P,CC,EE,HH,KK,F2,ZZ,V1,V3A,V5A,V7A,W1,W3,W9,W11,T1,T3 decision
    class F,Q,YY,II,LL error
    class H,H1,J,K,M,N backup
    class D,DD1,GG,JJ newFeature
    class V,V2A,V4A,V6A,V8A,SS smartCleaning
    class W,W2,W3,W4,W5,W6,W7 ubeFeature
    class W10,W11,W12,W13,W14,W15 himboFeature
    class DD,R1,SS,X,MM,NN,OO,PP,QQ,F3 logFeature
    class T2,T4,T5,T6 conflictFeature
    class T,U,U1,U2 keyFeature
                      </div>
                    </details>
                </div>
            </div>
        </section>

        

        <!-- Caracter√≠sticas Avanzadas -->
        <section id="features" class="section">
        <div class="container">
            <h2 class="section-title">Advanced Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üåç</div>
                    <h3>Unicode Support</h3>
                    <p>UTF-8 with ANSI fallbacks for international characters</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <h3>Automatic Backup</h3>
                    <p>An automatic backup of the JSON is performed before any modification, can be configured from an ini</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Data Preservation</h3>
                    <p>Preserves existing data and order during updates</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìù</div>
                    <h3>Detailed Logging</h3>
                    <p>Detailed logs for debugging and monitoring</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéÆ</div>
                    <h3>Universal Compatibility</h3>
                    <p>Supports SE, AE, GOG and VR editions</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>JSON Structure</h3>
                    <p>Maintains JSON structure and element order</p>
                </div>
            </div>
        </div>
    </section>

        <!-- Seguridad y Confiabilidad -->
        <section id="security" class="section bg-celeste">
        <div class="container">
            <h2 class="section-title">Security and Reliability</h2>
            <div class="security-grid">
                <div class="security-card">
                    <span class="security-icon">üõ°Ô∏è</span>
                    <h3>Backup System</h3>
                    <p>Complete automatic backup before any modification:</p>
                    <ul>
                        <li>Backup of the original JSON before changes</li>
                        <li>Support for <code>Backup = true/false</code> </li>
                        <li><code>Backup = 1</code>: Performs backup once, not recommended</li>
                        <li><code>Backup = 0</code>: Disables backup, same as false</li>
                        <li>File integrity verification</li>
                        <li>Automatic recovery in case of error</li>
                    </ul>
                </div>

                <div class="security-card">
                    <span class="security-icon">üîç</span>
                    <h3>Robust Validation</h3>
                    <p>Multiple layers of validation to prevent errors:</p>
                    <ul>
                        <li>Robust error handling in file processing</li>
                        <li>INI rule format validation</li>
                        <li>JSON structure verification</li>
                        <li>Early detection of corrupted files</li>
                    </ul>
                </div>

                <div class="security-card">
                    <span class="security-icon">üåç</span>
                    <h3>Unicode Compatibility</h3>
                    <p>Full support for international characters:</p>
                    <ul>
                        <li>Unicode-safe handling for all character types</li>
                        <li>UTF-8 encoding with ANSI fallbacks</li>
                        <li>Compatibility with non-ASCII paths</li>
                        <li>Prevention of crashes due to encoding</li>
                    </ul>
                </div>

                <div class="security-card">
                    <span class="security-icon">üíæ</span>
                    <h3>Memory Management</h3>
                    <p>Optimization and security in resource handling:</p>
                    <ul>
                        <li>Safe memory management in all operations</li>
                        <li>Automatic resource release</li>
                        <li>Memory leak prevention</li>
                        <li>Safety limits in processing</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

        <!-- Reconocimientos -->
        <section id="acknowledgments" class="section">
        <div class="container">
            <h2 class="section-title">Acknowledgments</h2>
            <div class="acknowledgments-content">
                <div class="beta-testers">
                    <h3>Beta Testers</h3>
                    <p>Special thanks to our dedicated beta testers who helped make this project possible:</p>

                    <div class="testers-grid">
                        <div class="tester-card">
                            <img src="Beta Testers/Cryshy.png" alt="Cryshy" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">Cryshy</h4>
                                <p class="tester-contribution">Beta review, observation of future applications</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/IAleX.png" alt="IAleX" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">IAleX</h4>
                                <p class="tester-contribution">Beta review</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/Lucas.png" alt="Lucas" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">Lucas</h4>
                                <p class="tester-contribution">JSON analysis and observation of corrections in ini parameters</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/OpheliaMoonlight.png" alt="OpheliaMoonlight" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">OpheliaMoonlight</h4>
                                <p class="tester-contribution">Testing Unicode support, multiple betas reviewed</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/storm12.png" alt="storm12" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">storm12</h4>
                                <p class="tester-contribution">Mod betatester in complex mod list</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/Thalzamar.png" alt="Thalzamar" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">Thalzamar</h4>
                                <p class="tester-contribution">Beta tester</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/Edsley.png" alt="Edsley" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">Edsley</h4>
                                <p class="tester-contribution">Advisor on templates and free web addons</p>
                            </div>
                        </div>

                        <div class="tester-card">
                            <img src="Beta Testers/Triberzis.png" alt="Triberzis" class="tester-avatar">
                            <div class="tester-info">
                                <h4 class="tester-name">Edsley</h4>
                                <p class="tester-contribution">Advice/ideas for system modes and keys</p>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="credits">
                    <h3>Additional Credits</h3>
                    <div class="credits-list">
                        <div class="credit-item">
                            <h4>Cryshy</h4>
                            <p>Beta review: UBE users who with their help I managed to better understand the world of this type of bodies. Thanks to their observations and ideas I implemented the automation system for UBE presets in the blacklist, and default application to UBE races. With this, NPCs with UBE will no longer appear skinny by default, but will be able to have UBE presets for them from the start. Thank you very much.</p>
                        </div>

                        <div class="credit-item">
                            <h4>CommonLibSSE NG</h4>
                            <p>Fundamental framework for developing modern SKSE plugins.</p>
                        </div>

                        <div class="credit-item">
                            <h4>SKSE Team</h4>
                            <p>For the continuous development and support of the Skyrim Script Extender.</p>
                        </div>

                        <div class="credit-item">
                            <h4>OBody NG Team</h4>
                            <p>For creating the base that makes this functionality possible.</p>
                        </div>

                        <div class="credit-item">
                            <h4>Modding Community</h4>
                            <p>For the constant feedback and ideas for improvements.</p>
                        </div>

                        <div class="credit-item">
                            <h4>Music Skyrim</h4>
                            <p>Thanks to the original authors of Skyrim for the music played directly from YouTube.</p>
                        </div>

                        <div class="credit-item">
                            <h4>Flowchart, Whiteboard and Graphics</h4>
                            <p>Thanks to <a href="https://mermaid.js.org/">Mermaid</a>, <a href="https://excalidraw.com/">Excalidraw</a> and <a href="https://time.graphics/">Graphics</a> for being free and very useful tools for drawing and creating diagrams.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <section id="project-schedule-outline" class="section bg-celeste">
        <div class="container">
            <h2 class="section-title">Project Schedule Outline</h2>
            <div class="image-frame" style="border: 2px solid rgba(255, 255, 255, 0.3); border-radius: 8px; padding: 10px; background: rgba(0, 0, 0, 0.1); margin: 20px 0;">
                <img src="../images/0001-Gant.webp" alt="Project Progress" style="width: 100%; height: auto; border-radius: 4px;">
            </div>
            <p style="text-align: center; margin: 20px 0;">
                <span style="font-size: 1em;">This is the progress of several projects I'm working on this year. I'll be uploading them as they are concluded, thanks to everyone who supports me with comments,</span><br>
                <span style="font-size: 1.2em; font-weight: 600;"></span><br>
                <span style="font-size: 1.2em; font-weight: 600;">thanks for being so patient üòø</span>
            </p>
        </div>
    </section>

    <!-- Final Note -->
    <section class="section final-note-section bg-celeste">
        <div class="container">
            <div class="final-note">
                <h3>Final Note</h3>
                <p>
                    This project is open source MIT and available to the community. Contributions, bug reports, and suggestions are always welcome. Together we can make Skyrim a more welcoming and comfortable place.
                </p>
            </div>
        </div>
    </section>

        

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <span>‚öôÔ∏è</span>
                        <span>OBody NG PDA</span>
                    </div>
                    <p>&copy; 2025 John1995ac. MIT License. Open source project.</p>
                </div>
                        <ul class="icons">
                            <li><a href="https://github.com/John95ac" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
                            <!-- Added custom links -->
                            <li><a href="#" class="icon brands alt fa-discord"><span class="label">Discord</span></a></li>
                            <!-- Nexus Mods (fallback icon) -->
                            <li><a href="https://next.nexusmods.com/profile/John1995ac" class="icon solid alt fa-expand-arrows-alt"><span class="label">Nexus Mods</span></a></li>
                            <!-- Patreon brand icon -->
                            <li><a href="https://www.patreon.com/John95ac" class="icon brands alt fa-patreon"><span class="label">Patreon</span></a></li>
                            <!-- Ko-fi using mug-hot as representative icon -->
                            <li><a href="https://ko-fi.com/john95ac" class="icon solid alt fa-mug-hot"><span class="label">Ko-fi</span></a></li>
                        </ul>
                <div class="footer-right">
                    <p>Developed with ‚ù§Ô∏è for the Skyrim modding community</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="audio-ball.js"></script>
    <script src="app.js"></script>
    <script src="particles.js"></script>
</body>
</html>